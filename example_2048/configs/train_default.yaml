# Default training configuration for 2048 RL
# 
# Usage:
#   modal run example_2048/train_modal.py --config-path configs/train_default.yaml
#
# For 8xH100 parallel training:
#   modal run example_2048/train_modal.py --config-path configs/train_8xh100.yaml

model:
  name: "2048-qwen3-thinking-v1"
  project: "2048"
  base_model: "Qwen/Qwen3-4B-Thinking-2507"

rollout:
  max_turns: 200
  max_retries: 3
  simultaneous_games: 18
  enable_ruler: true
  enable_thinking: true  # Enable Qwen3 thinking mode (reasoning before tool calls)
  verbose: false

train:
  train_steps: 40
  learning_rate: 1e-5
  random_seed: 42

  # max sequence length
  max_seq_length: 8192
  gpu_memory_utilization: 0.7
  tensor_parallel_size: 1

modal:
  gpu_type: "H100"
  timeout: 7200  # 2 hours
  num_parallel_jobs: 1  # Set to 8 for 8xH100 parallel training

